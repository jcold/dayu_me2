

<head>
    <title>欢迎光临~</title>
    <meta name="description" content="" />
    <meta name="keywords" content="" />
    
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0" />
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black" />
    <meta name="format-detection" content="telephone=no" />
    <meta http-equiv="Windows-Target" contect="_top" />
    
    
    <link rel="stylesheet" href="/assets/css/main.949b53f2.css">
    
</head>

<body>
    <div class="body-container text-[#2f353e]">
        

<div class="block-container space-y-8">
  <h1 class="text-xl font-bold mt-6 my-font-color">
    <a href="/">大余之道</a>
  </h1>
  
  
  
  <div class="space-y-3">
    <h2 class="text-4xl font-semibold">控制结构</h2>
    <div class="text-gray-600">2023-03-10</div>
  </div>
  <div class="yb-content2"><h1>If语句</h1><p>通过判断表达式的真假来决定输出哪一分支，语法关键字：<code>if 逻辑表达式</code>、<code>elif 逻辑表达式</code>、<code>else</code>、<code>endif</code>，<code>if</code> 和<code>endif</code>是必须并且成对出现的。</p><pre><code>{% if price &lt; 10 or always_show %}
   Price is {{ price }}.
{% elif price &gt; 1000 and not rich %}
   That&#x27;s expensive!
{% else %}
    N&#x2F;A
{% endif %}</code></pre><p>未定义的变量被认为是假，所以在if语句中用来测试变量是否定义而不会引发错误。</p><pre><code>{% if my_var %}
    {{ my_var }}
{% else %}
    Sorry, my_var isn&#x27;t defined.
{% endif %}</code></pre><h1>For语句</h1><p>循环列表中的没每一项，语法关键字：<code>for 表达式</code>、<code>endfor</code>，必须成对出现。</p><pre><code>{% for product in products %}
  {{loop.index}}. {{product.name}}
{% endfor %}</code></pre><p>或者字符串中每一个字符</p><pre><code>{% for letter in name %}
  {% if loop.index % 2 == 0%}
    &lt;span style=&quot;color:red&quot;&gt;{{ letter }}&lt;&#x2F;span&gt;
  {% else %}
    &lt;span style=&quot;color:blue&quot;&gt;{{ letter }}&lt;&#x2F;span&gt;
  {% endif %}
{% endfor %}</code></pre><p>循环体内预定义了对象变量<code>loop</code>，有以下属性可用：</p><ul><li><code>loop.index</code>：当前循环的次序，从1开始</li><li><code>loop.index0</code>：当前循环的次序，从0开始</li><li><code>loop.first</code>：是否为第一次循环</li><li><code>loop.last</code>：是否为最后一次循环</li></ul><h1>Include语句</h1><p>include语句可以包含其他模板，语法：<code>include 模板路径</code>，路径从根目录开始</p><pre><code>{% include &quot;included.html&quot; %}</code></pre><p>路径可以是字符串表达式</p><pre><code>{% include &quot;partials&#x2F;&quot; ~ name ~ &quot;.html&quot; %}</code></pre><p>被包含的模板：</p><ul><li>共享当前的上下文数据</li><li>新赋值的变量，仅在其内有效</li></ul><p>使用<code>ignore missing</code>关键字，当模板不存在时将被忽略。</p><pre><code>{% include &quot;header.html&quot; ignore missing %}</code></pre><p>include语句支持路径列表，最先存在的模板被包含，其他忽略，同时支持<code>ignore missing</code>。</p><pre><code>{% include [&quot;custom&#x2F;header.html&quot;, &quot;header.html&quot;] %}
{% include [&quot;special_sidebar.html&quot;, &quot;sidebar.html&quot;] ignore missing %}</code></pre><h1>Macros语句</h1><p>宏可以认为是一种特殊的函数形式，其内部上下文通过参数传递，与外界隔离，宏的渲染输出作为整体返回。</p><pre><code>{% macro input(label, type=&quot;text&quot;) %}
    &lt;label&gt;
        {{ label }}
        &lt;input type=&quot;{{type}}&quot; &#x2F;&gt;
    &lt;&#x2F;label&gt;
{% endmacro input %}</code></pre><p>其参数支持常量默认值。参数值可是有效变量、过滤器以及函数。</p><p>宏需要定义在一个单独的模板文件中，使用时导入并指定命名空间：</p><pre><code>{% import &quot;macros.html&quot; as macros %}</code></pre><p>调用形式如下：</p><pre><code>{{ macros::input(label=&quot;Name&quot;, type=&quot;text&quot;) }}</code></pre><p>宏定义文件中，当需要使用内部其他宏模块时，请使用<code>self</code>命名空间，借助<code>self</code>还可以实现递归调用，注意判断何时结束。</p><pre><code>{% macro factorial(n) %}
  {% if n &gt; 1 %}{{ n }} - {{ self::factorial(n=n-1) }}{% else %}1{% endif %}
{% endmacro factorial %}</code></pre><p>宏模块支持除<code>block</code>, <code>extends</code>外的所有语法。</p></div>
  
</div>


        
        <div class="text-sm block-container mt-12 text-gray-500">© 2023, By <a href="https://www.daobox.cn" target="_blank">道盒</a></div>
        
    </div>
    <script async src="/assets/js/main.949b53f2.js"></script>
</body>

